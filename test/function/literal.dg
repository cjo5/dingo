include "../common.dg"

extern fun main() c_int {
    val sayHello extern fun() = extern fun() {
        putln("Hello!")
    }

    sayHello() // expect-output: Hello!

    doOperation(5, 2, fun(arg1 i32, arg2 i32) i32 {
        return arg1 * arg2
    }) 
    // expect-output: 10

    sayGoodBye() // expect-output: Good bye!

    return 0
}

val sayGoodBye = fun() {
    putln("Good bye!")
}

fun doOperation(arg1 i32, arg2 i32, op fun(i32, i32) i32) {
    val res = op(arg1, arg2)
    putiln(res)
}
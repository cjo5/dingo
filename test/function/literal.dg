include "../common.dg"

extern fun main() C_int {
    val hello: extern fun() = extern fun() {
        io::println("Hello!")
    }

    hello() // expect: Hello!

    do_operation(5, 2, fun(arg1: I32, arg2: I32) I32 {
        return arg1 * arg2
    }) 
    // expect: 10

    bye() // expect: Good bye!

    return 0
}

val bye = fun() {
    io::println("Good bye!")
}

fun do_operation(arg1: I32, arg2: I32, op: fun(I32, I32) I32) {
    val res = op(arg1, arg2)
    io::printiln(res)
}
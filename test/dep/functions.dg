include "../common.dg"

extern fun main() C_int {
    foo(2)
    // expect: foo
    // expect: bar
    // expect: foo
    // expect: bar
    
    return 0
}

fun foo(i: I32) {
    if i < 0 {
        return
    }
    io::println("foo")
    bar(i-1)
}

fun bar(i: I32) {
    io::println("bar")
    foo(i-1)
}
include "../common.dg"

fun[c] main() c_int {
    foo(2)
    // expect-output: foo
    // expect-output: bar
    // expect-output: foo
    // expect-output: bar
    
    return 0
}

fun foo(i i32) {
    if i < 0 {
        return
    }
    puts(c"foo")
    bar(i-1)
}

fun bar(i i32) {
    puts(c"bar")
    foo(i-1)
}
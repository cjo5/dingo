module simple;

include "libc.dg";
include "libstd.dg";

fun printVec3(v Vec3) {
    puti(v.v.x);
    puti(v.v.y);
    puti(v.z);
}

struct Vec2 {
    x i32;
    y i32;
}

struct Vec3 {
    v Vec2;
    z i32;
}

fun foo() i32 {
    return 5;
}

struct List {
    item *Item;
}

struct Item {
    parent *List;
    data i32;
}

pub fun main() {
    var i1 Item;
    var l = List{item=&i1};
    i1.parent = &l;
    i1.data = 99;

    puti(l.item.data);
    puti(i1.parent.item.data);
}
module main

include "common.dg"

fun[c] main() {
    var arr = [0, 1, 2, 3, 4]

    puts(c"arr[:]")
    printSlice(&arr[:])

    puts(c"\narr[1:3]")
    printSlice(&arr[1:3])

    puts(c"\narr[1:]")
    printSlice(&arr[1:])

    puts(c"\narr[:3]")
    printSlice(&arr[:3])

    puts(c"\nreverse arr[:]")
    reverse(&var arr[:])
    printSlice(&arr[:])
}

fun printSlice(slice *[i32]) {
    for i = 0; i < lenof(slice); i++ {
        putiln(slice[i])
    }
}

fun reverse(slice *var [i32]) {
    for i = 0; i < lenof(slice)/2; i++ {
        val tmp = slice[i]
        val j = (lenof(slice)-1)-i
        slice[i] = slice[j]
        slice[j] = tmp
    }
}
